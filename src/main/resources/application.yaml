spring:
  application:
    name: trend

  # include할 파일 명시
#  config:
#    import: "classpath:secret.yaml"

  #HikariCP Pool 개수 조절
  datasource:
    driver-class-name: ${spring.datasource.driver-class-name}
    username: ${spring.datasource.username}
    password: ${spring.datasource.password}
    url: ${spring.datasource.url}
    hikari:
      maximum-pool-size: 4
      minimum-idle: 2
      max-lifetime: 900000
      idle-timeout: 300000
      connection-timeout: 30000

  #cloud 설정
  cloud:
    aws:
      credentials:
        access-key: ${spring.cloud.aws.credentials.access-key}
        secret-key: ${spring.cloud.aws.credentials.secret-key}
      region:
        static: ${spring.cloud.aws.region.static}
      s3:
        bucket: ${spring.cloud.aws.s3.bucket}


  # JPA 설정
  jpa:
    database: oracle
    hibernate:
      ddl-auto: none
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl #자동 캐멀 표기법 사용하지 않음
    show-sql: true #콘솔로그에 SQL 출력(log4jdbc와 비슷한 기능)
    properties:
      hibernate:
        format_sql: true #SQL 포맷팅
        highlight_sql: true #SQL 색깔 추가
        dialect: org.hibernate.dialect.OracleDialect #JPA 필수 설정

  # jwt 설정
  jwt:
    access-token-expiration: 900000     #15분
    refresh-token-expiration: 604800000 #7일
    secret: ${spring.jwt.secret}

  #첨부 파일 설정
  servlet:
    multipart:
      enabled: true #multipart 업로드 활성화
      max-file-size: 10MB #업로드 가능한 개별 파일 최대 용량
      max-request-size: 20MB #요청 전체 크기(파일 여러 개일 경우)

  #Redis 설정
  data:
    redis:
      host: localhost
      port: 6379
      password: ${spring.data.redis.password}


#파일 업로드 경로 설정(나중에 AWS S3로 교체 예정)
file:
  upload-dir: C:/code/temp

selenium:
  url:

#Mybatis 설정
#mybatis:
  #mapper-locations: classpath*:mapper/**/*.xml
  #type-aliases-package: com.test.trend.domain

# Mybatis 설정 > 없음
mybatis:
  config-location: classpath:config/mybatis-config.xml
  mapper-locations: classpath:mapper/*.xml 

#로그
logging:
  level:
    org:
      hibernate:
        sql: debug
        orm:
          jdbc:
            bind: trace

# 서버 포트 설정(8080)
server:
  port: 8080
  servlet:
    context-path: /trend

# Swagger 세팅
springdoc:
  api-docs:
    enabled: true

custom:
  isLocal: true
  s3:
    urlPrefix: https://trendlens.s3.ap-northeast-2.amazonaws.com
    basePrefix: uploads
    prefix:
      bodyPhoto: body-photo
      profilepic: profilepic
      analyze: analyze

naver:
  client-id: ${naver.client-id}
  client-secret: ${naver.client-secret}

  datalab-client-id: ${naver.datalab-client-id}
  datalab-client-secret: ${naver.datalab-client-secret}

toss:
  secret-key: ${toss.secret-key}

gemini:
  api-key: ${gemini.api-key}
  api-key-b: ${gemini.api-key-b}

external:
  sam3d:
    base-url: ${external.sam3d.base-url}

#CORS 설정
cors:
  allowed-origins:
    - "http://localhost:5173"
  allowed-methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
    - "PATCH"
  allowed-headers:
    - "*"
  exposed-headers:
    - "Authorization"
  allow-credentials: true